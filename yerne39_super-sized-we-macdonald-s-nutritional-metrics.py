import pandas as pd

import numpy as np

import seaborn as sns

import matplotlib.pyplot as plt

%matplotlib inline

import plotly.offline as py

py.init_notebook_mode(connected=True)

import plotly.graph_objs as go

import plotly.tools as tls

import warnings

warnings.filterwarnings('ignore')
menu = pd.read_csv('../input/menu.csv')

menu.head(4)
# Check for Nulls

print(menu.isnull().any())



# Check the shape

print(menu.shape)



# check for numbers

print(menu.describe())
# Plotting the KDEplots

f, axes = plt.subplots(3, 3, figsize=(10, 10), sharex=True, sharey=True)



s = np.linspace(0, 3, 10)

cmap = sns.cubehelix_palette(start=0.0, light=1, as_cmap=True)



# Generate and plot a random bivariate dataset

x = menu['Cholesterol (% Daily Value)'].values

y = menu['Sodium (% Daily Value)'].values

sns.kdeplot(x, y, cmap=cmap, shade=True, cut=5, ax=axes[0,0])

axes[0,0].set(xlim=(-10, 50), ylim=(-30, 70), title = 'Cholesterol and Sodium')



cmap = sns.cubehelix_palette(start=0.333333333333, light=1, as_cmap=True)



# Generate and plot a random bivariate dataset

x = menu['Carbohydrates (% Daily Value)'].values

y = menu['Sodium (% Daily Value)'].values

sns.kdeplot(x, y, cmap=cmap, shade=True, ax=axes[0,1])

axes[0,1].set(xlim=(-5, 50), ylim=(-10, 70),  title = 'Carbs and Sodium')



cmap = sns.cubehelix_palette(start=0.666666666667, light=1, as_cmap=True)



# Generate and plot a random bivariate dataset

x = menu['Carbohydrates (% Daily Value)'].values

y = menu['Cholesterol (% Daily Value)'].values

sns.kdeplot(x, y, cmap=cmap, shade=True, ax=axes[0,2])

axes[0,2].set(xlim=(-5, 50), ylim=(-10, 70),  title = 'Carbs and Cholesterol')



cmap = sns.cubehelix_palette(start=1.0, light=1, as_cmap=True)



# Generate and plot a random bivariate dataset

x = menu['Total Fat (% Daily Value)'].values

y = menu['Saturated Fat (% Daily Value)'].values

sns.kdeplot(x, y, cmap=cmap, shade=True, ax=axes[1,0])

axes[1,0].set(xlim=(-5, 50), ylim=(-10, 70),  title = 'Total Fat and Saturated Fat')



cmap = sns.cubehelix_palette(start=1.333333333333, light=1, as_cmap=True)



# Generate and plot a random bivariate dataset

x = menu['Total Fat (% Daily Value)'].values

y = menu['Cholesterol (% Daily Value)'].values

sns.kdeplot(x, y, cmap=cmap, shade=True, ax=axes[1,1])

axes[1,1].set(xlim=(-5, 50), ylim=(-10, 70),  title = 'Cholesterol and Total Fat')



cmap = sns.cubehelix_palette(start=1.666666666667, light=1, as_cmap=True)



# Generate and plot a random bivariate dataset

x = menu['Vitamin A (% Daily Value)'].values

y = menu['Cholesterol (% Daily Value)'].values

sns.kdeplot(x, y, cmap=cmap, shade=True, ax=axes[1,2])

axes[1,2].set(xlim=(-5, 50), ylim=(-10, 70),  title = 'Vitamin A and Cholesterol')



cmap = sns.cubehelix_palette(start=2.0, light=1, as_cmap=True)



# Generate and plot a random bivariate dataset

x = menu['Calcium (% Daily Value)'].values

y = menu['Sodium (% Daily Value)'].values

sns.kdeplot(x, y, cmap=cmap, shade=True, ax=axes[2,0])

axes[2,0].set(xlim=(-5, 50), ylim=(-10, 70),  title = 'Calcium and Sodium')



cmap = sns.cubehelix_palette(start=2.333333333333, light=1, as_cmap=True)



# Generate and plot a random bivariate dataset

x = menu['Calcium (% Daily Value)'].values

y = menu['Cholesterol (% Daily Value)'].values

sns.kdeplot(x, y, cmap=cmap, shade=True, ax=axes[2,1])

axes[2,1].set(xlim=(-5, 50), ylim=(-10, 70),  title = 'Cholesterol and Calcium')



cmap = sns.cubehelix_palette(start=2.666666666667, light=1, as_cmap=True)



# Generate and plot a random bivariate dataset

x = menu['Iron (% Daily Value)'].values

y = menu['Total Fat (% Daily Value)'].values

sns.kdeplot(x, y, cmap=cmap, shade=True, ax=axes[2,2])

axes[2,2].set(xlim=(-5, 50), ylim=(-10, 70),  title = 'Iron and Total Fat')





f.tight_layout()
data = [

    go.Heatmap(

        z= menu.ix[:,3:].corr().values,

        x=menu.columns.values,

        y=menu.columns.values,

        colorscale='Viridis',

        text = True ,

        opacity = 1.0

        

    )

]





layout = go.Layout(

    title='Pearson Correlation of all Nutritional metrics',

    xaxis = dict(ticks='', nticks=36),

    yaxis = dict(ticks='' ),

    width = 900, height = 700,

    

)





fig = go.Figure(data=data, layout=layout)

py.iplot(fig, filename='labelled-heatmap')
trace = go.Scatter(

    y = menu['Cholesterol (% Daily Value)'].values,

    x = menu['Item'].values,

    mode='markers',

    marker=dict(

        size= menu['Cholesterol (% Daily Value)'].values,

        #color = np.random.randn(500), #set color equal to a variable

        color = menu['Cholesterol (% Daily Value)'].values,

        colorscale='Portland',

        showscale=True

    ),

    text = menu['Item'].values

)

data = [trace]



layout= go.Layout(

    autosize= True,

    title= 'Scatter plot of Cholesterol (% Daily Value) per Item on the Menu',

    hovermode= 'closest',

    xaxis=dict(

        showgrid=False,

        zeroline=False,

        showline=False

    ),

    yaxis=dict(

        title= 'Cholesterol (% Daily Value)',

        ticklen= 5,

        gridwidth= 2,

        showgrid=False,

        zeroline=False,

        showline=False

    ),

    showlegend= False

)

fig = go.Figure(data=data, layout=layout)

py.iplot(fig,filename='scatterChol')
trace = go.Scatter(

    y = menu['Sodium (% Daily Value)'].values,

    x = menu['Item'].values,

    mode='markers',

    marker=dict(

        size= menu['Sodium (% Daily Value)'].values,

        #color = np.random.randn(500), #set color equal to a variable

        color = menu['Sodium (% Daily Value)'].values,

        colorscale='Portland',

        showscale=True

    ),

    text = menu['Item'].values

)

data = [trace]



layout= go.Layout(

    autosize= True,

    title= 'Scatter plot of Sodium (% Daily Value) per Item on the Menu',

    hovermode= 'closest',

        xaxis=dict(

        showgrid=False,

        zeroline=False,

        showline=False

    ),

    yaxis=dict(

        title= 'Sodium (% Daily Value)',

        ticklen= 5,

        gridwidth= 2,

        showgrid=False,

        zeroline=False,

        showline=False,

    ),

    showlegend= False

)

fig = go.Figure(data=data, layout=layout)

py.iplot(fig,filename='scatterChol')
trace = go.Scatter(

    y = menu['Saturated Fat (% Daily Value)'].values,

    x = menu['Item'].values,

    mode='markers',

    marker=dict(

        size= menu['Saturated Fat (% Daily Value)'].values,

        #color = np.random.randn(500), #set color equal to a variable

        color = menu['Saturated Fat (% Daily Value)'].values,

        colorscale='Portland',

        showscale=True

    ),

    text = menu['Item'].values

)

data = [trace]



layout= go.Layout(

    autosize= True,

    title= 'Scatter plot of Saturated Fat (% Daily Value) per Item on the Menu',

    hovermode= 'closest',

        xaxis=dict(

        showgrid=False,

        zeroline=False,

        showline=False

    ),

    yaxis=dict(

        title= 'Saturated Fat (% Daily Value)',

        ticklen= 5,

        gridwidth= 2,

        showgrid=False,

        zeroline=False,

        showline=False,

    ),

    showlegend= False

)

fig = go.Figure(data=data, layout=layout)

py.iplot(fig,filename='scatterChol')
# 3D scatter plot for Total Fats

trace1 = go.Scatter3d(

    x=menu['Category'].values,

    y=menu['Item'].values,

    z=menu['Total Fat (% Daily Value)'].values,

    text=menu['Item'].values,

    mode='markers',

    marker=dict(

        sizemode='diameter',

#         sizeref=750,

#         size= dailyValue['Cholesterol (% Daily Value)'].values,

        color = menu['Total Fat (% Daily Value)'].values,

        colorscale = 'Portland',

        colorbar = dict(title = 'Total Fat (% Daily Value)'),

        line=dict(color='rgb(255, 255, 255)')

    )

)



data=[trace1]

layout=dict(height=800, width=800, title='3D Scatter Plot of Carbohydrates (% Daily Value)')

fig=dict(data=data, layout=layout)

py.iplot(fig, filename='3DBubble')



# 3D scatter plot for Carbohydrate

trace1 = go.Scatter3d(

    x=menu['Category'].values,

    y=menu['Item'].values,

    z=menu['Carbohydrates (% Daily Value)'].values,

    text=menu['Item'].values,

    mode='markers',

    marker=dict(

        sizemode='diameter',

#         sizeref=750,

#         size= dailyValue['Cholesterol (% Daily Value)'].values,

        color = menu['Carbohydrates (% Daily Value)'].values,

        colorscale = 'Portland',

        colorbar = dict(title = 'Carbohydrates (% Daily Value)'),

        line=dict(color='rgb(255, 255, 255)')

    )

)



data=[trace1]

layout=dict(height=800, width=800, title='3D Scatter Plot of Carbohydrates (% Daily Value)')

fig=dict(data=data, layout=layout)

py.iplot(fig, filename='3DBubble')
trace = go.Scatter(

    y = menu['Dietary Fiber (% Daily Value)'].values,

    x = menu['Item'].values,

    mode='markers',

    marker=dict(

        size= menu['Dietary Fiber (% Daily Value)'].values,

        #color = np.random.randn(500), #set color equal to a variable

        color = menu['Dietary Fiber (% Daily Value)'].values,

        colorscale='Portland',

        reversescale = True,

        showscale=True

    ),

    text = menu['Item'].values

)

data = [trace]



layout= go.Layout(

    autosize= True,

    title= 'Scatter plot of Dietary Fiber (% Daily Value) per Item on the Menu',

    hovermode= 'closest',

        xaxis=dict(

        showgrid=False,

        zeroline=False,

        showline=False

    ),

    yaxis=dict(

        title= 'Dietary Fiber (% Daily Value)',

        ticklen= 5,

        gridwidth= 2,

        showgrid=False,

        zeroline=False,

        showline=False,

    ),

    showlegend= False

)

fig = go.Figure(data=data, layout=layout)

py.iplot(fig,filename='scatterChol')



# Calcium Scatter plots

trace = go.Scatter(

    y = menu['Calcium (% Daily Value)'].values,

    x = menu['Item'].values,

    mode='markers',

    marker=dict(

        size= menu['Calcium (% Daily Value)'].values,

        #color = np.random.randn(500), #set color equal to a variable

        color = menu['Calcium (% Daily Value)'].values,

        colorscale='Portland',

        reversescale = True,

        showscale=True

    ),

    text = menu['Item'].values

)

data = [trace]



layout= go.Layout(

    autosize= True,

    title= 'Scatter plot of Calcium (% Daily Value) per Item on the Menu',

    hovermode= 'closest',

        xaxis=dict(

        showgrid=False,

        zeroline=False,

        showline=False

    ),

    yaxis=dict(

        title= 'Calcium (% Daily Value)',

        ticklen= 5,

        gridwidth= 2,

        showgrid=False,

        zeroline=False,

        showline=False,

    ),

    showlegend= False

)

fig = go.Figure(data=data, layout=layout)

py.iplot(fig,filename='scatterChol')



# Iron Scatter plots

trace = go.Scatter(

    y = menu['Iron (% Daily Value)'].values,

    x = menu['Item'].values,

    mode='markers',

    marker=dict(

        size= menu['Iron (% Daily Value)'].values,

        #color = np.random.randn(500), #set color equal to a variable

        color = menu['Iron (% Daily Value)'].values,

        colorscale='Portland',

        reversescale = True,

        showscale=True

    ),

    text = menu['Item'].values

)

data = [trace]



layout= go.Layout(

    autosize= True,

    title= 'Scatter plot of Iron (% Daily Value) per Item on the Menu',

    hovermode= 'closest',

        xaxis=dict(

        showgrid=False,

        zeroline=False,

        showline=False

    ),

    yaxis=dict(

        title= 'Iron (% Daily Value)',

        ticklen= 5,

        gridwidth= 2,

        showgrid=False,

        zeroline=False,

        showline=False,

    ),

    showlegend= False

)

fig = go.Figure(data=data, layout=layout)

py.iplot(fig,filename='scatterChol')
x, y = (list(x) for x in zip(*sorted(zip(menu.Calories.values, menu.Item.values), 

                                                            reverse = False)))
trace2 = go.Bar(

    x=x ,

    y=y,

    marker=dict(

        color=x,

        colorscale = 'Viridis',

        reversescale = True

    ),

    name='Household savings, percentage of household disposable income',

    orientation='h',

)



layout = dict(

    title='Barplot and Scatterplots of all MacDonald Food Items',

     width = 900, height = 2000,

    yaxis=dict(

        showgrid=False,

        showline=False,

        showticklabels=True,

#         domain=[0, 0.85],

    ))



fig1 = go.Figure(data=[trace2])

fig1['layout'].update(layout)

py.iplot(fig1, filename='plots')