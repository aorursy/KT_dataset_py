import numpy as np
import pandas as pd
import matplotlib.pyplot as plt
import seaborn as sns
%matplotlib inline
data = pd.read_csv("../input/StudentsPerformance.csv")
data.head()
data["overall score"] = round((data["math score"] + data["writing score"] + data["reading score"]) / 3, 2)
data.head()
data['overall score'].plot(kind='hist', bins=100, figsize=(7,7))
plt.xlabel("Overall Score")
plt.ylabel("Frequency")
plt.title("Overall Scores")
plt.show()
data.describe()
data[data.isnull()=='True'].count()
data.info()
data.groupby("parental level of education", as_index=True)[["math score", "reading score", "writing score"]].mean()
data.corr()
plt.figure(figsize=(12,6))
sns.heatmap(data.corr(),annot=True,fmt='.1f')
plt.show()
print("Gender")
print(data.gender.value_counts())

print("Race/Ethnicity")
print(data['race/ethnicity'].value_counts())

print("Parents Education ")
print(data['parental level of education'].value_counts())
sns.countplot(x=data['gender'])
plt.title('Number of males and females in the dataset')
sns.countplot(x=data['race/ethnicity'])
plt.title('Number of different races people')
plt.figure(figsize=(12,6))
sns.countplot(x='parental level of education', data = data, hue='gender')
plt.show()

race_val=[89,190,319,262,140]
race_labels=['Group A','Group B','Group C','Group D','Group E']
plt.pie(race_val,labels=race_labels,radius=1.5,autopct='%0.1f%%',shadow=True)
print("Lunch Type")
print(data.lunch.value_counts())
sns.countplot(x=data['lunch'])
plt.title('Lunch type')
print("Test Preperation course")
print(data['test preparation course'].value_counts())
sns.countplot(x=data['test preparation course'])
plt.title('Test Preperation')
print("Female")
print(data['race/ethnicity'][data.gender=='female'].value_counts())
print("Male")
print(data['race/ethnicity'][data.gender=='male'].value_counts())
print("Male")
print(data['lunch'][data.gender=='male'].value_counts(normalize=True))
print("Female")
print(data['lunch'][data.gender=='female'].value_counts(normalize=True))
sns.countplot(x='lunch', data =data, hue='gender', palette='bright')
plt.show()
female1=data[data.gender=='female']
male1=data[data.gender=='male']
print("MATH SCORE")
print("Female")
print("------")
print(female1.groupby(['lunch','test preparation course'])['math score'].max().unstack(level = 'lunch'))
print("Male")
print("------")
print(male1.groupby(['lunch','test preparation course'])['math score'].max().unstack(level = 'lunch'))
print("READING SCORE")
print("Female")
print("------")
print(female1.groupby(['lunch','test preparation course'])['reading score'].max().unstack(level = 'lunch'))
print("Male")
print("------")
print(male1.groupby(['lunch','test preparation course'])['reading score'].max().unstack(level = 'lunch'))
print("WRITING SCORE")
print("Female")
print("------")
print(female1.groupby(['lunch','test preparation course'])['writing score'].max().unstack(level = 'lunch'))
print("Male")
print("------")
print(male1.groupby(['lunch','test preparation course'])['writing score'].max().unstack(level = 'lunch'))
print("OVERALL SCORE")
print("Female")
print("------")
print(female1.groupby(['lunch','test preparation course'])['overall score'].max().unstack(level = 'lunch'))
print("Male")
print("------")
print(male1.groupby(['lunch','test preparation course'])['overall score'].max().unstack(level = 'lunch'))
sns.barplot(x='gender',y='math score',data=data)


sns.barplot(x='gender',y='reading score',data=data)
sns.barplot(x='gender',y='writing score',data=data)
sns.barplot(x='gender',y='overall score',data=data)
plt.figure(figsize=(12,6))
sns.countplot(x="overall score", data = data, palette="muted")
plt.show()
score_grouped = data.groupby("parental level of education", as_index=True)[["math score", "reading score", "writing score"]].mean().sort_values(by='writing score',ascending=False)
score_grouped.plot.bar(title = "Students Score Average per Parental Level of Education", figsize=(20,10))
plt.figure(figsize=(10, 8))
sns.violinplot(x='parental level of education',y='overall score',data=data,kind='bar',hue='gender',palette='Set1')
plt.figure(figsize=(10, 8))
sns.violinplot(x='test preparation course',y='overall score',data=data,kind='bar',hue='gender',palette='Set2')
data.plot(kind="scatter", x = "reading score",y = "overall score",alpha = 0.5,color = "orange",grid = True,figsize = (10,10))
plt.xlabel("Reading Score",color = "blue")
plt.ylabel("Overall score",color = "r")
plt.title("Overall vs Reading ")
plt.show()
data.plot(kind="scatter", x = "writing score",y = "overall score",alpha = 0.5,color = "orange",grid = True,figsize = (10,10))
plt.xlabel("Writing Score",color = "blue")
plt.ylabel("Overall score",color = "r")
plt.title("Overall vs Writing ")
plt.show()
data.plot(kind="scatter", x = "math score",y = "overall score",alpha = 0.5,color = "orange",grid = True,figsize = (10,10))
plt.xlabel("Math Score",color = "blue")
plt.ylabel("Overall score",color = "r")
plt.title("Overall vs Math ")
plt.show()
race = round(data.groupby(by = data['race/ethnicity']).mean(), 1)
race
x = list(race.index)
y = round(race.mean(axis=1),1)

fig, ax = plt.subplots(figsize=(12,6))

rects = ax.bar(x, y)

ax.set_ylabel('Average Scores')
ax.set_title('Average scores by race/ethnicity')
ax.set_xticklabels((x))



plt.show()
