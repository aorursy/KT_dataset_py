# This Python 3 environment comes with many helpful analytics libraries installed

# It is defined by the kaggle/python docker image: https://github.com/kaggle/docker-python

# For example, here's several helpful packages to load in 



# import numpy as np # linear algebra

# import pandas as pd # data processing, CSV file I/O (e.g. pd.read_csv)



# Input data files are available in the "../input/" directory.

# For example, running this (by clicking run or pressing Shift+Enter) will list the files in the input directory



# import os

# print(os.listdir("../input"))



# Any results you write to the current directory are saved as output.
'''

Source: https://ar.wikipedia.org/wiki/%D8%B3%D9%85%D9%8A%D9%84%D9%88%D8%AF%D9%88%D9%86

Usage: Test

Later we can use flat files or even api calls to get a large corpus

'''

CORPUS = '''السِّمِيلُودُون[ِ 1][ِ 2] أو السِّمايلُودُون (الاسم العلمي: Smilodon) هو جنسٌ مُنقرضٌ من السِّنوريَّات سيفيَّة الأسنان. وهو أحد أشهر الثدييَّات قبل التاريخيَّة، وأبرز سنورٍ سيفيّ الأنياب بين جميع الأجناس البائدة الأُخرى. يُسمي العامَّة في الغرب الفرد من هذه الحيوانات «الببر سيفيّ الأنياب» (بالإنجليزيَّة: Saber-toothed Tiger)، وتُرجم هذا الاسم خطأً إلى اللُغة العربيَّة فأصبح «النمر سيفيّ الأنياب»، تماشيًا مع الخطأ الدارج المُتمثل في الخلط بين الببر والنمر،(1) لكنَّها في الواقع ليست وثيقة الصلة بِالبُبُور أو غيرها من السنوريَّات المُعاصرة. عاشت السميلودونات في الأمريكتين خلال العصر الحديث الأقرب (العصر الپليستوسيني)، أي خلال الفترة المُمتدَّة بين 2.5 ملايين سنة إلى حوالي 10,000 سنة. أُطلقت التسمية المُعاصرة على هذا الجنس في سنة 1842 استنادًا إلى بعض المُستحاثات المُكتشفة في البرازيل. يعترفُ العُلماء حاليًّا بِثلاثة أنواعٍ من السميلودون، هي: السميلودون النَّحيل (الاسم العلمي: Smilodon gracilis) والسميلودون الفتّاك (الاسم العلمي: Smilodon fatalis) والسميلودون المُدمِّر (الاسم العلمي: Smilodon populator). يُحتملُ أنَّ النوعينِ الأخيرينِ ينحدران من السميلودون النَّحيل، الذي يُحتمل تحدُّره بدوره من الميگانتيرون. أكبر مجموعة من مُستحاثات السميلودون اكتُشفت في حُفر قطران لابريا قُرب مدينة لوس أنجلوس في كاليفورنيا، بِالولايات المُتحدة.



كانت السميلودونات أغلظ جسدًا من جميع أنواع وأجناس السنوريَّات الباقية اليوم، وتميَّزت عنها بأطرافها الأماميَّة الأكثر تطوُّرًا ونابيها العُلويان فائقا الطول. وكانت فتحة أشداقها أوسع من فتحة أشداق جميع السنوريَّات الأُخرى، على أنَّ أنيابها الطويلة سالفة الذِكر كانت نحيلة وهشَّة، ومُخصصة لِطعن طرائدها في أماكن مُحددة، كمواضع الأوردة والشرايين الحيويَّة. كان السميلودون النَّحيل (الاسم العلمي: Smilodon gracilis) أصغر الأنواع على الإطلاق، وتراوح وزنه بين 55 و100 كيلوغرام (ما بين 120 و220 رطلًا)، يليه السميلودون الفتّاك (الاسم العلمي: Smilodon fatalis) بِوزنٍ تراوح ما بين 160 إلى 280 كيلوغرامًا (ما بين 350 إلى 620 رطلًا) وارتفاعٍ وصل إلى 100 سنتيمتر (39 إنشًا). كلا النوعين سالِفي الذِكر عُثر على بقاياها في أمريكا الشماليَّة، على أنَّ بعض المُستحاثات المُكتشفة في أمريكا الجنوبيَّة تُنسب أحيانًا إليها. أمَّا السميلودون المُدمِّر (الاسم العلمي: Smilodon populator) فقد اكتُشفت بقاياه في أمريكا الجنوبيَّة، ويُحتمل أنَّهُ أكبر السنوريَّات التي عاشت قديمًا وحديثًا، إذ تراوحت زنته ما بين 220 إلى 400 كيلوغرام (ما بين 490 إلى 880 رطلًا) ووصل ارتفاعه عند الكتفين إلى 120 سنتيمترًا (47 إنشًا). ولا يُعرفُ على وجه الدقَّة كيف كان نمطُ فراء هذه الحيوانات، أو إن كان لديها أيَّةُ أنماطٍ على الإطلاق، على أنَّ الكثير من الرسَّامين والفنانين المُتخصصين بِرسم الكائنات البائدة رسموا السميلودون بأنماطٍ فرويَّة شبيهة بِأنماط بعض السنوريَّات المُعاصرة، كالنُمُور واليغاور والأسلوت، أو دون أنماطٍ فرويَّة كما الأُسُود.



اقتاتت السميلودونات على طائفةٍ واسعةٍ من العواشب الضخمة في أمريكا الشماليَّة، من شاكلة الأحصنة البريَّة والبياسن والجِمال وصغار المواميث، ولمَّا عبرت إلى أمريكا الجنوبيَّة افترست أنواعًا جديدةً من الطرائد المحليَّة التي لم تعرفها في أمريكا الشماليَّة، مما يُؤكِّد قُدرتها على التأقلُم في الظُروف البيئيَّة الجديدة ويُوضح سبب نجاحها وانتشارها الواسع. يُعتقدُ بِأنَّ السميلودون كان يفتك بِطريدته عبر تثبيتها أرضًا بِقائمتيه الأماميتين القويتين، ثُمَّ يعُضُّها ويقتُلها، وما زال العُلماء مُحتارين في كيفيَّة تسديد السميلودون عضَّته القاتلة لِطريدته، نظرًا لِطول نابيه وهشاشتها، بحيثُ كانت عُرضةً لِلكسر لو ضربت العظم. كذلك، ما زال النقاشُ قائمًا بين العُلماء حول ما إذا كانت السميلودونات كائنات اجتماعيَّة (تعيش في مجموعات) أم انفراديَّة، وكثيرًا ما يُلجأ إلى دراسة مُستحاثاتها ومُقارنتها بِعظام السنوريَّات الحيَّة وطريقة معيشتها لِتحديد ذلك. يُحتمل أنَّ السميلودونات قطنت الموائل الطبيعيَّة كثيفة الغطاء النباتي، من شاكلة الغابات وأراضي الأشجار القمئيَّة، للاستعانة بِذلك الغطاء في سبيل الكمن لِلفرائس. انقرضت السميلودونات في ذات الوقت الذي شهد انقراض كُل الحيوانات الپليستوسينيَّة الضخمة في أمريكا الشماليَّة، مُنذُ حوالي 10,000 سنة، ويُعزى انقراضها إلى اعتمادها المُفرط على الفرائس الضخمة، بِالإضافة إلى التغيُّر المُناخي السريع، والمُنافسة مع الضواري الأُخرى، غير أنَّ السبب الفعلي والدقيق وراء اندثارها ما يزال غير معلوم.'''



CORPUS
import re



# keep only arabic letters 

# See https://utf8-chartable.de/unicode-utf8-table.pl

CORPUS = re.findall(r'[\u0600-\u06FF]+', CORPUS)



# Remove all items in the resulting list that have len(item) <= 1

CORPUS = [word for word in CORPUS if len(word) > 1]

CORPUS = ' '.join(CORPUS)



print(CORPUS)
arabic_diacritics = re.compile("""

                             ّ    | # Tashdid

                             َ    | # Fatha

                             ً    | # Tanwin Fath

                             ُ    | # Damma

                             ٌ    | # Tanwin Damm

                             ِ    | # Kasra

                             ٍ    | # Tanwin Kasr

                             ْ    | # Sukun

                             ـ     # Tatwil/Kashida

                         """, re.VERBOSE)

CORPUS = re.sub(arabic_diacritics, '', CORPUS)



print(CORPUS)
# TEST____remove_diacritics

# Diacritics

FATHATAN = '\u064b'

DAMMATAN = '\u064c'

KASRATAN = '\u064d'

FATHA = '\u064e'

DAMMA = '\u064f'

KASRA = '\u0650'

SHADDA = '\u0651'

SUKUN = '\u0652'



DIACRITICS = (FATHATAN, DAMMATAN, KASRATAN, FATHA, DAMMA, KASRA, SUKUN, SHADDA)



exist_diacritics = False

for c in CORPUS:

    if c in DIACRITICS:

        exist_diacritics = True

        break

if exist_diacritics:

    print('Do it again, it\'s not working...')

else:

    print('Everything is OK')
# TO DO : Remove punctuation

import string 



arabic_punctuations = '''`÷×؛<>_()*&^%][ـ،/:"؟.,'{}~¦+|!”…“–ـ'''

english_punctuations = string.punctuation

punctuations_list = arabic_punctuations + english_punctuations

print (punctuations_list)

def remove_punctuations(text):

    if not text:

        return text

    else:

        translator = str.maketrans('', '', punctuations_list)

        return text.translate(translator)

    

# CORPUS = remove_punctuations(CORPUS)



# def strip_punctuation(text):

#     for char in text:

#         if char in list(punctuations_list):

#             text = text.replace(char, '')

#     return text



# CORPUS = strip_punctuation(CORPUS)
# TEST____remove_punctuations

CORPUS = remove_punctuations(CORPUS)



exist_punctuation = False

for c in CORPUS:

    if c in punctuations_list:

        exist_punctuation = True

        break

if exist_punctuation:

    print('Do it again, it\'s not working...')

else:

    print('Everything is OK')
CORPUS